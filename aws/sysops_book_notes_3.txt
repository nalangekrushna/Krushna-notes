aws compute 

aws lambda = compute service that runs code without need to provision and manage server.
aws elastic beanstalk = quickly deploy and manage applications on aws cloud without worrying about infrastructure that runs those applications.
EC2 container service = container management service for docker in EC2 instacne.
lightsail = This service is for developers who need virtual private servers. It is readymade template which includes everything to run server running.
Batch = computing workloads on the AWS Cloud.

aws EC2 instance has following features
	Virtual computing environments, known as instances
	Preconfigured templates for your instances, known as AMIs Various configurations of CPU, memory, storage, and networking capacity for your instances, known as instance types
	Secure login information for your instances using key pairs (AWS stores the public key, and you store the private key in a secure place.)
	Storage volumes for temporary data that’s deleted when you stop or terminate your instance, known as instance store volumes
	Persistent storage volumes for your data using Amazon Elastic Block Store (Amazon EBS), known as Amazon EBS volumes
	Multiple physical locations for your resources, such as instances and Amazon EBS volumes, known as regions and Availability Zones
	A firewall that enables you to specify the protocols, ports, and source IP ranges that can reach your instances using security groups
	Static IPv4 addresses for dynamic cloud computing that can be assigned to an individual instance, known as Elastic IP addresses
	IPv6 addresses that can also be assigned to instances 
	Virtual networks that you can create that are logically isolated from the rest of the AWS Cloud and that you can optionally connect to your own network, known as Amazon Virtual Private Clouds (Amazon VPCs)
	
instance storage = physical storage attached to your instance. you cannot stop only terminate instance store backed ec2 instance. Also it takes more boot time than EBS backed storage. 
EBS(Elastic Block Storage) = logical storage can be extended reduced.
EFS (Elastic File System)

Although you can only access instance metadata and user data from within the instance itself, the data is not protected by cryptographic methods. Anyone who can access the instance can view its metadata. Therefore, you should take suitable precautions to protect sensitive data (such as long-lived encryption keys). You should not store sensitive data, such as passwords, as user data.

User data is that which you can pass to the instance both upon initial boot up and, if desired, in subsequent boots. User data allows you to specify parameters for configuring your instance or attach a simple script. You can also use this data to build more generic AMIs that can be modified by configuration files supplied at launch time. For example, you can change a basic AWS Linux AMI to become a web server using user data. User data is limited to 16 KB, but it can have links to locations (like an Amazon S3 bucket) to load larger files.

In summary, the differences between Dedicated Instances and Dedicated Hosts are:
	Use Dedicated Hosts for more visibility into the physical host for BYOL. You should also try Dedicated Hosts if your app requires minimal latency between instances(where you have per-socket, per-core, or per-VM software licenses.)
	Use Dedicated Instances if you are only concerned with compliance with regulations
	
snapshots = You can back up the data on your Amazon EBS volumes to Amazon S3 by taking point-intime snapshots. Snapshots are incremental backups, which means that only the blocks on the device that have changed after your most recent snapshot are saved.

Monitoring the Status of Your AWS Cloud Services 
aws provides below two ways to do that 
	AWS Service Health Dashboard = With the AWS Service Health Dashboard, you can view current as well as past service health for all services across all regions except china and us gov.you can personalize it to track your AWS Cloud services.
	AWS Personal Health Dashboard = provides information about AWS health events that can affect your account. The information is presented in two ways: a dashboard that shows recent and upcoming events organized by category and a full event log that shows all events from the past 90 days.

Monitoring with Amazon CloudWatch
Amazon CloudWatch monitoring is turned on by default for Amazon EC2 instances. Basic monitoring, which collects metrics every five minutes, is provided by default.

Using AWS CloudTrail = get a history of AWS API calls and related events for your account.

private ip address = it is assigned at instace creation and only removed when instace is terminated. It has no impact on instance reboot and stop.
public and elastic IP address behave differently than private ip address. when instance will stop public ip address will be returned to aws. elastic ip address is kept in same account available for reassignment for particular aws account.

aws instance pricing
on-demand = no upfront commitment, pay as you go.
reserved instance = upfront commitment, discount on on-demand pricing.
spot = bidding for instance when your price exceed bidding amount you get spot instace.

Estimating Costs
two tools for estimating costs
	AWS Simple Monthly Calculator = this is general purpose to calculate your total cost.
	AWS Total Cost of Ownership (TCO) Calculator = AWS TCO Calculator allows you to estimate the cost savings when using AWS and provides a detailed set of reports that can be used in executive presentations.
	
AWS Trusted Advisor = recommendations on how to potentially reduce your spending with AWS.
Placement Groups = logical grouping of instances in a single Availability Zone. It is useful when you want to do high performance computing.
AWS Service Catalog = allows IT administrators to create, manage, and distribute portfolios of approved products to end users who can then access the products they need in a personalized portal.

The primary tool used for monitoring your Amazon ECS clusters is Amazon CloudWatch. There is no additional cost for using Amazon ECS. The only charges are for the Amazon EC2 instances or AWS Lambda requests and compute time.
	
AWS Lambda = AWS Lambda is a serverless compute service.
AWS Lambda functions are invoked by the following:
	Push event model Some event sources can publish events to AWS Lambda and directly invoke your AWS Lambda function. The push model applies to Amazon S3, Amazon SNS, Amazon Cognito, Amazon Echo, and user applications, where each event triggers the AWS Lambda function.
	Pull event model Some event sources publish events, but AWS Lambda must poll the event source and invoke your AWS Lambda function when events occur. This model applies when AWS Lambda is used with streaming event sources such as Amazon Kinesis and Amazon DynamoDB Streams. For example, AWS Lambda polls your Amazon Kinesis stream, or Amazon DynamoDB Stream, and it invokes your AWS Lambda function when it detects new records on the stream.
	Direct invocation model This invocation type causes AWS Lambda to execute the function synchronously and returns the response immediately to the calling application. This invocation type is available for custom applications.
	
One of the recommendations for writing code for AWS Lambda is to make sure that the code is stateless (that is, it does not make reference to any underlying infrastructure).
AWS lambda can run continously only for 15 minutes.

Amazon CloudWatch provides metrics for AWS Lambda. These metrics include,
but are not limited to, the following:
	Invocation count
	Invocation duration
	Number of requests
	Latency per request
	Duration of code execution
	
The AWS Lambda function is executed once it is invoked. If the execution fails, two more attempts are made. You can, as an option, configure AWS Lambda to forward a failed payload to a Dead Letter Queue (DLQ). This DLQ can take the form of an Amazon Simple Notification Service (Amazon SNS) topic or an Amazon Simple Queue Service (Amazon SQS) queue.

Networking
AWS Direct Connect = allows you to establish dedicated network connection from your premise to AWS.
subnet cannot span Availability zone and VPC cannot span regions. for example If you want VPC in two regions you must have two VPC (one per region) you can have maximum five VPC per region per account.

AWS reserves the four IP and the last IP addresses. In a 10.0.0.0/24, the following IPs are reserved:
	10.0.0.0: Network address.
	10.0.0.1: Reserved by AWS for the Amazon VPC router.
	10.0.0.2: Reserved by AWS. The IP address of the DNS server is always the base of the Amazon VPC network range; however, the base of each subnet range is also reserved.
	10.0.0.3: Reserved by AWS for future use.
	10.0.0.255: Network broadcast address. AWS does not support broadcast in an Amazon VPC; therefore, we reserve this address.
	
	
Once you choose the size of your Amazon VPC, you cannot change it. Therefore on the side of caution and make your VPC large. A best practice is to identify a private /16 network that is not being used and dedicate that to your VPC.

A clear understanding of route tables and network ACLs and how they operate and control access is fundamental. Know what type of traffic gets controlled by each of these and how they interact. Network connectivity troubleshooting is a key skill for this exam.

Route Tables = When a VPC is created, a route table associated with that VPC is also created. This is called the default route table. Any IP packet with a destination address in the 10.155.0.0/16 network (thus any packet with an address between 10.155.0.0 and 10.155.255.255) would be delivered within this VPC. What it also tells us is that any IP packet with any other IP address would be dropped because there are no instructions on how to route that packet.

we can add destination 0.0.0.0/0 and target Internet-gateway-id to go to internet gateway.

Network Access Control Lists (ACLs) = A VPC also has a default network Access Control List (ACL). This default network ACL will allow all traffic. You can modify network ACLs either by allowing or denying inbound or outbound traffic based on port, protocol, and IP address. You create a number of rules that are evaluated in order, and when a match occurs, that rule gets invoked.

Security Groups = A VPC also has a default security group. This default security group allows all traffic.

One of the other things that is created with a VPC is a Dynamic Host Configuration Protocol (DHCP) option set. The DHCP option set controls various configuration parameters that are passed to compute instances created in the VPC. Some of the parameters are domain name, domain name server, NTP servers, NetBIOS name type, and NetBIOS node type. AWS provides a DNS server by default, but other DNS servers can be used instead.

Our recommended practice is to create two subnets per Availability Zone: one public subnet and one private subnet. The public subnet’s route table includes a route to the Internet. The private subnet’s route table does not include a route to the Internet. An instance in a public subnet has either a public IP or an Elastic IP address assigned to it, while an instance in a private subnet has only a private IP address assigned to it. For an instance in a private subnet to send a packet to the Internet, that packet must be routed through either a Network Address Translation (NAT) instance or a NAT gateway. For an instance in a private subnet to receive a packet from the Internet, that packet must be routed through either the Classic Load Balancer or Application Load Balancer, or through another compute instance with load balancing software installed.

A VPC can be created that has no connection to resources outside of the VPC. However, most VPCs have some sort of connection to resources outside the VPC. These connections can take the form of gateways, endpoints, and peering connections. There are three major gateways for the VPC. They are as follows:
	Internet gateway
	NAT gateway
	VPN gateway
	
Internet Gateway = An Internet gateway serves two purposes: to provide a target in your VPC route tables for Internet-routable traffic and to perform network address translation (NAT) for instances that have been assigned public IPv4 addresses.

NAT Gateway = You can use a network address translation (NAT) gateway to enable instances in a private subnet to connect to the Internet or other AWS services, but prevent the Internet from initiating a connection with those instances.
To create a NAT gateway, you must specify the public subnet in which the NAT gateway will reside. You must also specify an Elastic IP address to associate with the NAT gateway when you create it. After you’ve created a NAT gateway, you must update the route table associated with one or more of your private subnets to point Internet-bound traffic to the NAT gateway. This enables instances in your private subnets to communicate with the Internet. Each NAT gateway is created in a specific Availability Zone and implemented with redundancy in that zone. In NAT gateway you disable souce/destination checking to allow NAT as internet gateway for your private instace.

VPN Gateway = A VPN gateway is used either to provide (1) an IPsec VPN connection through the Internet to your location or (2) an AWS Direct Connect connection to your location.

Elastic Network Interfaces (ENIs) = Each instance in your VPC has a default network interface (the primary network interface) that is assigned a private IPv4 address from the IPv4 address range of your VPC. You cannot detach a primary network interface from an instance. You can create and attach an additional network interface to any instance in your VPC.

EIP (elastic IP address) = static public IPv4 address. An Elastic IP address is associated with your AWS account and allows you to mask the failure of an instance or software by remapping the address to another Amazon EC2 instance in your account. The two major tools used to manage and troubleshoot VPC issues are as follows:
■■ AWS CloudTrail
■■ Amazon VPC Flow Logs

Elastic Load Balancing distributes incoming application traffic across multiple Amazon EC2 instances, in multiple Availability Zones within a single AWS Region. Elastic Load Balancing supports two types of load balancers:
■■ Application Load Balancers
■■ Classic Load Balancers

Amazon Route 53 = 

Lightsail vs Beanstalk = If you need more flexibility on configuration,go with Elastic Beanstalk. But if you just want to run a simple application in the cloud, Lightsail might suit your need. Elastic Beanstalk is an easy-to-use service that manages, deploys, and scales Web App by handling capacity provisioning, load balancing, auto-scaling, and application health monitoring. Under the hood, it uses Cloud Formation to provision its resources such as EC2 Instances, Auto Scaling Group, Load Balancers, S3 and optionally AWS Relational Database Service (RDS). Lightsail gives you a pre-configured Virtual Private Server platform with the simplified management console. Lightsail plan comes in a bundle with a fixed amount of RAM, vCPUs, SSD and a free data transfer allowance, with static IP addresses and DNS management.

for docker elastic beanstalk is the only option. beanstalk supports autoscaling while lightsail didn't.

You have implemented a Classic Load Balancer. You now need to collect some information, specifically what is the IP address of the client making the request on the Classic Load Balancer. How would you collect this information?
	-> Access logs contain more detailed information than Amazon CloudWatch, including information on the IP address of the client making the request.
	
You need to establish a highly available connection between your Amazon VPC and your datacenter. What is the best way to accomplish this?
A. Create an AWS Direct Connect connection between your datacenter and your AWS VPC.
B. Spin up multiple Amazon EC2 instances across two Availability Zones. Load VPN
software onto the Amazon EC2 instances. Set internal routing such that if one Amazon
EC2 instance fails the other takes over.
C. Set up a Virtual Private Gateway with a route out to your datacenter.
D. Set up a Virtual Private Gateway. Make sure that you have two customer gateways
configured.
	-> Set up a Virtual Private Gateway. Make sure that you have two customer gateways configured. In order to make things highly available, you need to eliminate single points of failure. Answers A and C have single points of failure. Answer B does not give you the scaling that you may need.
	
You are using Amazon Route 53 as your DNS provider. You have a web application that is running in your datacenter located in Las Vegas, NV and in the AWS Frankfort, Germany Region. What steps would you take to minimize the load times for this web application?
	-> The latency measurement from your Las Vegas location will not be based on Las Vegas but will be based on the AWS Region that you associate with that record. In this case, it is recommended that you associate the us–west-1 Region located in Northern California. AWS can only create latency record sets in an AWS Region, not in a customer location.
	
You are trying to SSH in to an Amazon EC2 instance in your Amazon VPC but are unable to do so. What should you be checking?
	-> Make sure that you have an Internet gateway attached to your Amazon VPC, that the VPC route table has an entry that routes packets to the Internet, that the Network ACL has an inbound and an outbound rule that allows SSH, and that the Amazon EC2 instance has a security group rule that allows inbound SSH. Make sure that the EC2 instance has a Public or Elastic IP address associated with it.
	
Origin Access Identity (OAI) is used to restrict access to your Amazon S3 content.
The subnet inherits the route table from the Amazon VPC.

When you configure Amazon CloudFront, an origin refers to which of the following? 
	-> For static content, it is either an HTTP server or an Amazon S3 bucket. For media files on demand it is an S3 bucket.
	
A default Amazon VPC has a netmask of /20. It comes with an Internet gateway and a route table refl ecting that Internet gateway. NAT and VPN can be added to the default VPC.

NACL are stateless and security groups are stateful.
to understand above statement lets take a example. Consider you only allow inbound traffic in both nACL and security group. so when someone from internet sends a request. It will reach to ec2 instance. Security group will outbound traffice for that ip address for that request even if it explicitly blocks all outbound traffice. This is called stateful. But nACL will block that outbound response as nACL is stateless.

for an internet packet to reach to ec2 instance needs to pass from below three elements in given order from internet to ec2 instace.
1. route table = In vpc we have three route tables(applicable at vpc level) 
	a. default = this route table will be automatically created and it will contain only one address 10.10.0.0/16 local		For CIDR understanding see below. the address provided in this route table helps to resolve local other resources from that same vpc. For both public and private route table content of this table is copied. So please think before adding anything in it.	
 	b. public = public will have one extra address 0.0.0.0/0 IGW	here IGW is a construct for amazon's highly available internet gateway. so any packet in internet having ip address of public subnet can reach in/out using IGW.	
	c. private = this route table will have extra address like 0.0.0.0/0  NAT-ID 	this will use NAT(Network Address Translation) server to connect to internet. So no packet from internet initiates connection to private subnet but instances from private subnet could connect and initialize connection to internet. Also to access private subnet directly you can use VGW (Virtual gateway) from company premise by adding route like this 172.67.0.0/16 VGW.
2. nACL = (applicable at subnet level)by default nACL allows all the inbound and outbound traffic. nACL is optional. Also nACL can have both inbound and outbound rule set. VPC comes with default modifiable nACL. you can specify both allow and deny ruls.
3. security group = {applicable at ec2 instace (resource)level} by default security groups deny all inbound traffic and allows all outbound traffic. and you can allow by using ip address/range, protocol and port. security group is mandatory. you can only specify allow rules.

CIDR (Classless Inter-Domain Routing) = lets take an example 10.10.0.0/16 it tells that address should be like 10.10.*.* So any address starting from 10.10. The /16 tells us to freeze first 16 bits. any decimal number below 256 can be converted into binary using maximum 8 bits. So /16 means freeze first 16 bits i.e. (10.10) so max you can freeze 28 bits.and min is 16 bits. So /16 gives us 256*256 = 65536 ip addresses to use. to only get traffic from single ip for example you can do this 10.10.23.54/32 ie. freeze all 32 bits. (only single address.) to get traffice from anywhere in internet you can use this 0.0.0.0/0